<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<link rel="icon" href="data:;base64,=">
		<link rel="stylesheet" href="assets/css/main.css">
		<script type="module">
			/*import {generator} from "./src/modules/uuid/index.js";

			const uuid = generator();

			setInterval(
				() => console.log(uuid.next().value),
				1000,
			);*/
		</script>
	</head>

	<body>
		<header id="header">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="logo">
				<path fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="32" d="M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304" />
			</svg>

			<button class="switch">
				<span>Explorer</span>
			</button>
		</header>

		<main id="main">
			<section class="canvas">
				<canvas id="canvas" width="0" height="0"></canvas>

				<div id="no-output">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
						<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16" d="M256 32v448M313.72 80A111.47 111.47 0 01256 96a111.47 111.47 0 01-57.72-16M198.28 432a112.11 112.11 0 01115.44 0M449.99 144L62.01 368M437.27 218a112.09 112.09 0 01-57.71-100M74.73 294a112.09 112.09 0 0157.71 100M62.01 144l387.98 224M74.73 218a112.09 112.09 0 0057.71-100M437.27 294a112.09 112.09 0 00-57.71 100" />
					</svg>

					<span>No Output</span>
				</div>
			</section>
		</main>

		<section id="status">
			<div id="fps">
				<span id="fps-current">165 FPS</span>
				<span id="fps-min">Min: 45</span>
				<span id="fps-max">Max: 56</span>
			</div>
		</section>

		<script>
			let POINTER_X,
				POINTER_Y,
				headerHeight = header.offsetHeight,
				headerTrigger = headerHeight,
				headerTriggerOff = headerHeight * 2,
				fullScreen = document.body.classList.contains("fullscreen"),
				switches = document.querySelectorAll("button.switch"),
				toggleFullScreen = e => {
					e.preventDefault();

					fullScreen = !fullScreen;

					document.body.classList.toggle("fullscreen", fullScreen);
					header.classList.toggle("visible", fullScreen && POINTER_Y < headerTrigger);
				};

			// Init CSS vars
			document.documentElement.style.setProperty("--header-height", `${headerHeight}px`);

			for (const button of switches) button.addEventListener("click", () => button.classList.toggle("switched"));

			addEventListener("keydown", e => {
				e.code === "F10" && toggleFullScreen(e);
			});

			addEventListener("mousemove", e => {
				POINTER_X = e.clientX;
				POINTER_Y = e.clientY;

				if (fullScreen) {
					POINTER_Y < headerTrigger && header.classList.add("visible");
					POINTER_Y > headerTriggerOff && header.classList.remove("visible");
				}
			});
		</script>
		<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
		<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
	</body>
</html>